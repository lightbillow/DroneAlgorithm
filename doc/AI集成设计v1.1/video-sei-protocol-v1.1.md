## 沃天宇云平台-视频SEI数据叠加协议v1.1

### 一、概述

> 视频中添加SEI数据采用此协议格式

> 视频流格式为H.264，一般为1080p 25~30帧，平均每25帧叠加一次SEI数据

### 二、协议说明

##### 多字节传输时，字节序采用小端,例如整形数字100转换成字节表示为0x64 0x00 0x00 0x00

##### 无效字段表示
>        int32类型    -2147483647
>        int16类型    -32768
>        uint16类型    65535
>        GPS时间无效    填充0

### 三、协议格式，版本v1.0

|字节序号|帧内容|字节数|数据类型|转换关系|备注|
|:---|:---|:---|:---|:---|:---|
|1|协议版本|1|uint8|-|当前为0x01|
|2～5|纬度|4|int32|/10000000|-|
|6～9|经度|4|int32|/10000000|-|
|10～13|海拔高度|4|int32|/1000|-|
|14～17|相对高度|4|int32|/1000|如没有请填写无效|
|18～19|航向角|2|int16|/100|-|
|20～21|横滚角|2|int16|/100|-|
|22～23|俯仰角|2|int16|/100|-|
|24~25|空速|2|int16|/100|-|
|26～27|地速|2|int16|/100|如没有请填写无效|
|28～35|GPS时间|8|int64|-|unix时间戳|
|36~67|业务预留|32|-|-|当前填充0|
|68～75|坐标点1纬度|8|double|-|-|
|76～83|坐标点1经度|8|double|-|-|
|84～91|坐标点1海拔高度|8|double|-|-|
|92～99|坐标点2纬度|8|double|-|-|
|100～107|坐标点2经度|8|double|-|-|
|108～115|坐标点2海拔高度|8|double|-|-|
|116～123|坐标点3纬度|8|double|-|-|
|124～131|坐标点3经度|8|double|-|-|
|132～139|坐标点3海拔高度|8|double|-|-|
|140～147|坐标点4纬度|8|double|-|-|
|148～155|坐标点4经度|8|double|-|-|
|156～163|坐标点4海拔高度|8|double|-|-|
|164～171|坐标点5纬度|8|double|-|-|
|172～179|坐标点5经度|8|double|-|-|
|180～187|坐标点5海拔高度|8|double|-|-|
|188～246|业务预留|59|-|-|当前填充0|


### 四、协议更新v1.1

在v1.0的基础上：

1. 协议版本更新为 0x02

2. 在36~67的位置添加一下内容

|字节序号|帧内容|字节数|数据类型|转换关系|备注|
|:---|:---|:---|:---|:-:|:-:|
|36--39|航向角|4字节|类型 int32| 转换关系 /1000000 |-|
|40--43|横滚角|4字节|类型 int32| 转换关系 /1000000 |-|
|44--47|俯仰角|4字节|类型 int32|转换关系 /1000000|-|
|48--51|相机倍数|4字节|类型 int32|-|-|